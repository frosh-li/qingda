define(["require","api","common"],function(e,t,n){var r=null,i,s={extobj:{data:null,listPlugin:[],el:"#collectPswdDialogTpl-dialog",events:{"click .submit-btn":"onsubmit","click .cancel-btn":"oncancel"},initialize:function(e){var t=this},setValue:function(){},getParam:function(){return n.getFormValue(this.el,!0)},showErrTips:function(e){return alert(e),!1},validate:function(e){return e.pass?!0:this.showErrTips("请输入密码")},onsubmit:function(){var e=this,t=e.getParam();e.validate(t)&&Backbone.Events.trigger("forcecollect:start",t)},oncancel:function(){this.stopListening(),this.dialogObj.dialog("destroy"),$(".ui-dialog,.ui-widget-overlay").remove(),i=""}}};return{show:function(e){var t=$("#collectPswdDialogTpl-dialog").length?$("#collectPswdDialogTpl-dialog").replaceWith($($("#collectPswdDialogTpl").html())):$($("#collectPswdDialogTpl").html());i=e,t.dialog({modal:!0,show:300,height:400,width:1e3,title:"编辑",close:function(e,t){r.oncancel()},open:function(){$("form.jqtransform").jqTransform(),r=new(Backbone.View.extend(s.extobj)),r.dialogObj=$(this)}})},detroy:function(){r.oncancel()}}});