define(["require","api","context","common","table"],function(e,t,n,r){var i=null,s={extobj:{data:null,listPlugin:[],el:"#otherOptionEditTpl-dialog",events:{"click .submit-btn":"onsubmit","click .cancel-btn":"oncancel"},initialize:function(e){console.log(e);var t=this;t.listenTo(Backbone.Events,"stationinfo:foredit:update",function(e){t.data=e,t.show()}),t.listenTo(Backbone.Events,"stationdata:create stationdata:update",function(){t.dialogObj.dialog("destroy")})},refresh:function(){var e=this,t=e.getParam();t&&e.fetchData(t)},getParam:function(){return r.getFormValue(this.el)},validate:function(){return!0},onsubmit:function(){var e=this,n=e.getParam();e.validate(n)&&(n.id?t.updateStation(n):t.createStation(n))},oncancel:function(){this.dialogObj.dialog("destroy")}}};return{show:function(e){var n=$("#otherOptionEditTpl-dialog").length?$("#otherOptionEditTpl-dialog").replaceWith($($("#otherOptionEditTpl").html())):$($("#otherOptionEditTpl").html());n.dialog({modal:!0,show:300,height:550,width:900,title:"编辑",close:function(e,t){$(this).dialog("destroy")},open:function(){console.log("if id",e),$("form.jqtransform").jqTransform(),i=new(Backbone.View.extend(s.extobj)),i.dialogObj=$(this),e&&t.getStationEditInfo(e)}})}}});