define(["require","api","context","table"],function(e,t,n){var r=null,i,s={"default":{extobj:{data:null,listPlugin:[],el:$("#stationinfoTpl-dialog"),initialize:function(e){var t=this;t.listenTo(Backbone.Events,"stationinfo:update",function(e){t.data=e.list,t.render()})},jumpToRealTime:function(){window.location.href="#/manage/station/"+i.substr(0,10)},refresh:function(){var e=this,t=e.getParam();t&&e.fetchData(t)},getParam:function(){var e=n.getCurStations(),t=n.getListType();return console.log("listType",t),{listType:t}},render:function(){var e=this,t=$("#stationinfoTpl-dialog").length?$("#stationinfoTpl-dialog").replaceWith($($("#stationinfoTpl").html())):$($("#stationinfoTpl").html());return t.dialog({modal:!0,show:300,height:270,width:900,title:"站信息",close:function(t,n){$(this).dialog("destroy"),e.table.destroy()},open:function(){e.table=$("#stationinfoTpl-dialog table").DataTable({data:e.data,paging:!1,searching:!1,info:!1,retrieve:!0,scrollX:!0,scrollY:!0,columns:[{data:"site_name"},{data:"sid"},{data:"site_location"},{data:"fix_phone"},{data:"functionary"},{data:"functionary_phone"},{data:"emergency_person"},{data:"emergency_phone"},{data:"ups_vender"},{data:"ups_service_phone"},{data:"bms_service_contact"},{data:"bms_phone"}]}),$("#stationinfoTpl-dialog .dataTables_scrollBody").height(100),$("#stationinfoTpl-dialog").off("click").on("click",".submit-btn",function(){t.dialog("destroy"),e.table.destroy(),$(".ui-dialog,.ui-widget-overlay").remove(),e.jumpToRealTime()}),$("#stationinfoTpl-dialog").off("click").on("click",".goto-detail",function(){t.dialog("destroy"),e.table.destroy(),$(".ui-dialog,.ui-widget-overlay").remove(),window.location.href="#/qurey/baseinfo/queryStationSituation"})}}),this}}}};return{init:function(){return r=new(Backbone.View.extend(s.default.extobj)),this},show:function(e){console.log("station id",e),i=e,t.getStationInfo({id:e})}}});